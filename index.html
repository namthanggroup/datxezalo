<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Äáº·t xe Taxi Ä‘iá»‡n Nam Tháº¯ng</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100">
  <div class="max-w-md mx-auto mt-6 bg-white shadow-lg rounded-xl p-6">
    <!-- TiÃªu Ä‘á» -->
    <h1 class="text-2xl font-bold text-center text-green-700 mb-4 flex items-center justify-center">
      ğŸš– Äáº·t xe Taxi Ä‘iá»‡n Nam Tháº¯ng
    </h1>

    <!-- ThÃ´ng tin liÃªn há»‡ -->
    <div class="mb-4">
      <h2 class="font-semibold text-red-600 mb-2 flex items-center">ğŸ“ ThÃ´ng tin liÃªn há»‡</h2>
      <input id="phone" type="tel" placeholder="Sá»‘ Ä‘iá»‡n thoáº¡i"
        class="w-full p-2 border rounded focus:ring-2 focus:ring-green-500"/>
    </div>

    <!-- Äá»‹a chá»‰ -->
    <div class="mb-4">
      <h2 class="font-semibold text-red-600 mb-2 flex items-center">ğŸ“ Äá»‹a chá»‰</h2>
      
      <select id="tinh" class="w-full p-2 border rounded mb-2">
        <option value="">-- Chá»n Tá»‰nh/ThÃ nh --</option>
      </select>

      <select id="quan" class="w-full p-2 border rounded mb-2">
        <option value="">-- Chá»n Quáº­n/Huyá»‡n --</option>
      </select>

      <select id="phuong" class="w-full p-2 border rounded mb-2">
        <option value="">-- Chá»n PhÆ°á»ng/XÃ£ --</option>
      </select>

      <input id="diachi" type="text" placeholder="Äá»‹a chá»‰ chi tiáº¿t (sá»‘ nhÃ , Ä‘Æ°á»ng)"
        class="w-full p-2 border rounded mb-2"/>

      <button id="btnGPS" type="button" class="px-4 py-2 bg-blue-600 text-white rounded shadow hover:bg-blue-700">
        ğŸ“ Láº¥y GPS
      </button>
      <p id="gpsStatus" class="text-sm text-gray-600 mt-1"></p>
    </div>

    <!-- ThÃ´ng tin phÆ°Æ¡ng tiá»‡n -->
    <div class="mb-4">
      <h2 class="font-semibold text-blue-600 mb-2 flex items-center">ğŸš™ ThÃ´ng tin phÆ°Æ¡ng tiá»‡n</h2>
      <div class="flex items-center mb-2">
        <span class="mr-2">Sá»‘ lÆ°á»£ng xe</span>
        <button type="button" id="decrease" class="px-2 py-1 bg-gray-200 rounded">-</button>
        <input id="soluong" type="number" value="1" min="1" class="w-16 text-center border mx-2 rounded"/>
        <button type="button" id="increase" class="px-2 py-1 bg-gray-200 rounded">+</button>
      </div>
      <select id="loaixe" class="w-full p-2 border rounded">
        <option value="">-- Chá»n loáº¡i xe --</option>
      </select>
    </div>

    <!-- Ghi chÃº -->
    <div class="mb-4">
      <h2 class="font-semibold text-yellow-600 mb-2">ğŸ“ Ghi chÃº</h2>
      <textarea id="ghichu" placeholder="Ghi chÃº thÃªm (náº¿u cÃ³)"
        class="w-full p-2 border rounded"></textarea>
    </div>

    <!-- Gá»­i yÃªu cáº§u -->
    <button id="submitBtn" class="w-full bg-green-600 text-white py-2 rounded-lg shadow hover:bg-green-700">
      ğŸš€ Gá»­i yÃªu cáº§u
    </button>
  </div>

  <script>
    // Load Ä‘á»‹a chá»‰ tá»« JSON
    fetch("locations.json")
      .then(res => res.json())
      .then(data => {
        const tinhSelect = document.getElementById("tinh");
        const quanSelect = document.getElementById("quan");
        const phuongSelect = document.getElementById("phuong");

        // Load tá»‰nh
        Object.keys(data).forEach(tinh => {
          tinhSelect.innerHTML += `<option value="${tinh}">${tinh}</option>`;
        });

        // Khi chá»n tá»‰nh
        tinhSelect.addEventListener("change", () => {
          quanSelect.innerHTML = `<option value="">-- Chá»n Quáº­n/Huyá»‡n --</option>`;
          phuongSelect.innerHTML = `<option value="">-- Chá»n PhÆ°á»ng/XÃ£ --</option>`;
          if (tinhSelect.value && data[tinhSelect.value]) {
            Object.keys(data[tinhSelect.value]).forEach(quan => {
              quanSelect.innerHTML += `<option value="${quan}">${quan}</option>`;
            });
          }
        });

        // Khi chá»n quáº­n
        quanSelect.addEventListener("change", () => {
          phuongSelect.innerHTML = `<option value="">-- Chá»n PhÆ°á»ng/XÃ£ --</option>`;
          if (quanSelect.value && data[tinhSelect.value][quanSelect.value]) {
            data[tinhSelect.value][quanSelect.value].forEach(px => {
              phuongSelect.innerHTML += `<option value="${px}">${px}</option>`;
            });
          }
        });
      });

    // Load loáº¡i xe tá»« JSON
    fetch("cau_hinh_xe.json")
      .then(res => res.json())
      .then(data => {
        const loaixeSelect = document.getElementById("loaixe");
        data.forEach(xe => {
          loaixeSelect.innerHTML += `<option value="${xe.ten}">${xe.ten}</option>`;
        });
      });

    // NÃºt tÄƒng giáº£m sá»‘ lÆ°á»£ng xe
    document.getElementById("increase").addEventListener("click", () => {
      const input = document.getElementById("soluong");
      input.value = parseInt(input.value) + 1;
    });
    document.getElementById("decrease").addEventListener("click", () => {
      const input = document.getElementById("soluong");
      if (parseInt(input.value) > 1) input.value = parseInt(input.value) - 1;
    });

    // Láº¥y GPS
    document.getElementById("btnGPS").addEventListener("click", () => {
      if (navigator.geolocation) {
        navigator.geolocation.getCurrentPosition(
          (pos) => {
            const { latitude, longitude } = pos.coords;
            document.getElementById("gpsStatus").innerText = 
              `ÄÃ£ láº¥y tá»a Ä‘á»™: ${latitude}, ${longitude}`;
          },
          () => {
            document.getElementById("gpsStatus").innerText = "KhÃ´ng thá»ƒ láº¥y GPS!";
          }
        );
      } else {
        document.getElementById("gpsStatus").innerText = "TrÃ¬nh duyá»‡t khÃ´ng há»— trá»£ GPS.";
      }
    });

    // Submit (demo)
    document.getElementById("submitBtn").addEventListener("click", () => {
      alert("YÃªu cáº§u Ä‘Ã£ Ä‘Æ°á»£c gá»­i!");
    });
  </script>
</body>
</html>
